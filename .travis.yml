language: java
env:
  global:
  - secure: AfW/b8u8MRL+1nzjisNAyvZe1BbuIjZlpXvswN5tmB8tBSQ49F22zfbBLpPfA1xwUfhBvKW1DWhpk9y3vhk4qjuqtPWGeACOSKHPKhdV+biJaWYPxXtgGsovXMyEMU+VGUF815fbnuYmP63xNnMMtoNV699BBk8R4WIRiIUekmXpab1uF38cDmMM0b/JhZZ4rULrVZbJCCz4Vy3cWHTNPYJ3Dbn/iJniwZ/YiRipBI+zQde7yIccb1BNngxTDu3vElXrH9r1I8P7syQc5wPlk8uSOW3M4ot8M1HDtzI5YvjhP3DTg0XkE2zIqPI+iwHojWle6gtVADJeSbWPpxNkJcwZWhmPZjlRvu91lCKxXt8IEkTnAJzThKIXyLie83cegxC5npAu6j4O0YKKywZHx0okq9yMDNjQGnl7A08DVX02novica7hJKlLDjYl27JtKCBAreRmOM5Pkm10izkz7jsbeZQISZOjvfVXYA0Q/RwaarQU6LFgJETfDvREIRC0lmNYQzI/rKMPeQN1oqZ0ru6+3V099Tm05Px6RcmIjYFDGdmK3bNbj7GGp/h3fOiHio5jJwtkhWOASozr6QQ2Wcz4QffiS9TxH5Kx6q6ySCwEJPd1bwx3amDLMFuB/LUaaoyDjHuMA/ihyLhrWojJAP+RtchYAddEItO5y2BXfWs=
  - secure: CYQ6jtaNfHRDItgoCjPzDNfpuiYCvM/G6h0pGQCSUTmboRIspYxeZD7myfWBQ0rouCAGrE37GYte/ct7WQsJNasHb7AGDhT6hBumUEAJFc+cCdK4XM6cN1n3nfu3SaPP4BFxo8fsUVgsb2Ur1gCu8yx+dIrRekrcv2sOFExWMCa5xGlHzAMeg+47z3XYBnlpRAasLXdj5r1fSKERLhxZUK+dcLvzLsOh/hwx1CH1bwhjUqwF1SGDdD+5aPzyoKSt5D0JSYOUrDf8q7Xs3mVa2m6Tpc+1kw0HGrgC6akJ1wpOJ4V1EioYrS4P5DecPHzGAxZEPveKhm21rXU08K+VeXI6COj078YxM6hhbODSvN/tAMC0aovmxBDnWSik9hCagNv4h4dEjBIB3A38GRCzCRg5cxHD3Wq7sbZUx9skmjfThdi1GOj4sCZO+KYqTgt1g/XaUR+IFsU6PvNOo8na8BifFp6raNkpZT+HtccoCvQ0edElf0h9gia0DQACsBw6B93zxVGBDLs06Q0GCifWFQjDXJSt/EjW8HYrbo7qVu7t27NKMq0dV2pUGGo5dPvIghykzW5Jy0PpeJuJ6IDwDbfur6qp59QtUaKh/WR8Pg5qBzLYobR+QB00yBrcrmE9g497zWj41gBxi9iuIZ7hxPR2pr1I51kswGvp2DcatB4=
  - secure: jiY5zKhqqR1VJhWY6PmMOLNO/8QhQjTISyVWizpwHIpIAA5rFY2BBZOG2QxR437fmMbl5fOd5xfIl8bYhYY5i1abe1yY9WzJnRpB97BbqTDGjhEExb8S5UX5EFYQn3AVFXkNT3BC/hV++EXfoFRzySZZzSfUokSR9D+oq5S9e/yAFPYWR9gJDcPGUEhCLzH+4QMIiQ2J/1McDiDJK9x2k5OQ/RB3Urw5+wl39/rXlKPtSxZQvpiafC5YaSmvk7WbhKN/7Mx2ApcXGz/K04X8OnH8WM6jA9fsY7KhnU6J6mFpvbTN0yDwuDEY226jvAAkVTYV9cx3iNJt19UEdzZD/hvGeRhyBvR1rLqTquES7YSPYI6vFcYKq1GBKAVbdXSHd5fgR9EGdNGjsgWSCGvEArQQXRpLvJNQyYLSB/ez68VTQL/qNl+c7oBEylNkUdjDpEBVt3omM2eTagxCEHusJ95F6Unhre9ydrsvv7ajWnyq+4BZ8fFy29c/BfPKUiFTfscv8vN2uep4GqTkzRkokPJlG20+p29BK4rMcb0MTPuRxLaQikip9DYQC8dHEpTOl64BrSgPLVaD0yJPwUxtRktW3SU0qCMMQrCvgvPkI5znEYn3LwpDdVW/hrHeRCIG9sofHwJubQxlUXtxNHvYUZfDqJZkTVKXy+CE2FVQ9gE=
  - secure: Ef5PjyeQ9Ys2rr4yyZxZHfY25jkmkNtiFDR1XRZ9wPo2yY8ENCai0ZNfz/IFlyTfUQ7axYiIwq+2GI99U34gkrsqG8chxoYDrogfwlAXdfRbdySlH2z30dYuJEEhRvzoDmYQ5VPfOn+nIdyR6YTvDOu80BDG8TDHriVWzD4zsZGeVtdZMCpaKTdntemF3Fuh0S5Mh9h1xCT2XJlYvzs0jPRGkFPF/TXueJwrjbZ7Ytbjs7P+M0q+i0w+DBa5cewLyGialdrVjqTJpHloHDrDcpc7whmJVWMtCi5G5j2boux2RfiE+P+BnkD0jSclMdn3jjkoIoLQ6G35sziSbbnZPdbsm7jet07+bzxwgLvo9jxH6WBRKwpV1ZQj2lVpoSOggSk/T4RBxetcBITX9DD29vyujD2V3VJWMBD1G72oMJZwNnumtDcdraximdo0VGE5G+cSYnAsxaQsyVy6rzv+5kNBwJTk9ks8XbyiWGZ7I51njMsHMMX2VtHCcWKswtvjviV3r+Yl5hjvTMnwaQi9i6C9qKMWaA8fPqgAUqpzV8JPunei3s3jG1x+cnfgJvS1J6Tkshri0dy6ScbIcPgBJ6yFAuS+wdCAuZY/YJNokKKaaA+gbYZxaTphPGWpRlZCpIsrl44hs+KFYLxgL31zWhn03Kb4bV4UXwJ/Yex5bXs=

install: mvn -DskipTests -Dgpg.skip install
after_success:
- gpg2 --keyring=$TRAVIS_BUILD_DIR/pubring.gpg --no-default-keyring --import deployment/signingkey.asc
- gpg2 --allow-secret-key-import --keyring=$TRAVIS_BUILD_DIR/secring.gpg --no-default-keyring
  --import deployment/signingkey.asc
- mvn clean deploy --settings deployment/settings.xml -Dgpg.executable=gpg2 -Dgpg.keyname=$KEYID
  -Dgpg.passphrase=$PASSPHRASE -Dgpg.publicKeyring=$TRAVIS_BUILD_DIR/pubring.gpg -Dgpg.secretKeyring=$TRAVIS_BUILD_DIR/secring.gpg
before_install:
-  openssl aes-256-cbc -K $encrypted_e5c65c774293_key -iv 0-in deployment/signingkey.asc.enc -out deployment/signingkey.asc -d
cache:
  directories:
    - ~/.m2/repository
